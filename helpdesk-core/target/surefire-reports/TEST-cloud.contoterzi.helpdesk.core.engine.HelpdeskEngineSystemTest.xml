<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.181" tests="6" errors="0" skipped="0" failures="0">
  <properties>
    <property name="java.specification.version" value="21"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/test-classes:/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/classes:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.17.1/jackson-databind-2.17.1.jar:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.17.1/jackson-annotations-2.17.1.jar:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.17.1/jackson-core-2.17.1.jar:/Users/paoloproni/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter/5.10.2/junit-jupiter-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.2/junit-jupiter-api-5.10.2.jar:/Users/paoloproni/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/Users/paoloproni/.m2/repository/org/junit/platform/junit-platform-commons/1.10.2/junit-platform-commons-1.10.2.jar:/Users/paoloproni/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.2/junit-jupiter-params-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.2/junit-jupiter-engine-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/platform/junit-platform-engine/1.10.2/junit-platform-engine-1.10.2.jar:/Users/paoloproni/.m2/repository/org/mockito/mockito-core/5.10.0/mockito-core-5.10.0.jar:/Users/paoloproni/.m2/repository/net/bytebuddy/byte-buddy/1.14.11/byte-buddy-1.14.11.jar:/Users/paoloproni/.m2/repository/net/bytebuddy/byte-buddy-agent/1.14.11/byte-buddy-agent-1.14.11.jar:/Users/paoloproni/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/Users/paoloproni/.m2/repository/org/mockito/mockito-junit-jupiter/5.10.0/mockito-junit-jupiter-5.10.0.jar:"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://java.oracle.com/"/>
    <property name="user.timezone" value="Europe/Rome"/>
    <property name="os.name" value="Mac OS X"/>
    <property name="java.vm.specification.version" value="21"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="user.country" value="IT"/>
    <property name="sun.boot.library.path" value="/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home/lib"/>
    <property name="sun.java.command" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/surefire/surefirebooter-20250916153400140_3.jar /Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/surefire 2025-09-16T15-34-00_102-jvmRun1 surefire-20250916153400140_1tmp surefire_0-20250916153400140_2tmp"/>
    <property name="http.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/test-classes:/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/classes:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.17.1/jackson-databind-2.17.1.jar:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.17.1/jackson-annotations-2.17.1.jar:/Users/paoloproni/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.17.1/jackson-core-2.17.1.jar:/Users/paoloproni/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter/5.10.2/junit-jupiter-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.2/junit-jupiter-api-5.10.2.jar:/Users/paoloproni/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/Users/paoloproni/.m2/repository/org/junit/platform/junit-platform-commons/1.10.2/junit-platform-commons-1.10.2.jar:/Users/paoloproni/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.2/junit-jupiter-params-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.2/junit-jupiter-engine-5.10.2.jar:/Users/paoloproni/.m2/repository/org/junit/platform/junit-platform-engine/1.10.2/junit-platform-engine-1.10.2.jar:/Users/paoloproni/.m2/repository/org/mockito/mockito-core/5.10.0/mockito-core-5.10.0.jar:/Users/paoloproni/.m2/repository/net/bytebuddy/byte-buddy/1.14.11/byte-buddy-1.14.11.jar:/Users/paoloproni/.m2/repository/net/bytebuddy/byte-buddy-agent/1.14.11/byte-buddy-agent-1.14.11.jar:/Users/paoloproni/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/Users/paoloproni/.m2/repository/org/mockito/mockito-junit-jupiter/5.10.0/mockito-junit-jupiter-5.10.0.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/Users/paoloproni"/>
    <property name="user.language" value="it"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2024-04-16"/>
    <property name="java.home" value="/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home"/>
    <property name="file.separator" value="/"/>
    <property name="basedir" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core"/>
    <property name="java.vm.compressedOopsMode" value="Zero based"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="apple.awt.application.name" value="ForkedBooter"/>
    <property name="surefire.real.class.path" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/target/surefire/surefirebooter-20250916153400140_3.jar"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="ftp.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.runtime.version" value="21.0.3+7-LTS-152"/>
    <property name="user.name" value="paoloproni"/>
    <property name="stdout.encoding" value="UTF-8"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="15.6.1"/>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="localRepository" value="/Users/paoloproni/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://bugreport.java.com/bugreport/"/>
    <property name="java.io.tmpdir" value="/var/folders/58/52sy9s0j0mlfgfrv9118vd1m0000gn/T/"/>
    <property name="java.version" value="21.0.3"/>
    <property name="user.dir" value="/Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core"/>
    <property name="os.arch" value="aarch64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="native.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/Users/paoloproni/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:."/>
    <property name="java.vm.info" value="mixed mode, sharing"/>
    <property name="stderr.encoding" value="UTF-8"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="java.vm.version" value="21.0.3+7-LTS-152"/>
    <property name="sun.io.unicode.encoding" value="UnicodeBig"/>
    <property name="socksNonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.class.version" value="65.0"/>
  </properties>
  <testcase name="testProcessQuestion_WithKnowledgeBasePath_ReturnsDirectAnswer" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.158">
    <system-err><![CDATA[set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState init
INFO: Initializing AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState getConfigInputStream
INFO: DEBUG: Attempting to load config from: /Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/src/test/resources/test-config.yaml
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState getConfigInputStream
INFO: AppState loading the configuration from a file
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState getConfigInputStream
INFO: DEBUG: File path: /Users/paoloproni/Documents/UniBZ/Tesi/JavaLambda/helpdesk-core/src/test/resources/test-config.yaml
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState loadConfigFromEnv
INFO: DEBUG: YAML loaded successfully. Raw data: {llm={type=claude, region=us-east-1, modelId=anthropic.claude-3-sonnet-20240229-v1:0, llmVersion=bedrock-2023-05-31, temperature=0.4, maxTokens=1024, prompts={preamble=You are a test help desk assistant for an agricultural subcontractor management software.  Answer clearly and helpfully only if the question is relevant to the software.  If it is not, state that you cannot answer.  If the user needs human intervention, include EXACTLY the phrase 'contact support' once in the answer.  If no human is required, DO NOT include that phrase., template=%s%n%nTest Examples:%n%s%n%nUser question: %s%nAnswer:, contactSupportPhrase=contact support}}, storage={type=s3, region=eu-north-1, bucket=test-bucket, prefix=, filename=test-knowledge.json}, similarity={type=cosine, fewShot=10000, threshold=0.8}}
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState loadConfigFromEnv
INFO: DEBUG: Storage section: {type=s3, region=eu-north-1, bucket=test-bucket, prefix=, filename=test-knowledge.json}
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState buildStorageUri
INFO: DEBUG: Storage type = s3
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.config.AppState init
INFO: AppState initialized
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
]]></system-err>
  </testcase>
  <testcase name="testProcessQuestion_WithEscalationRequired_ReturnsEscalationResponse" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.004">
    <system-err><![CDATA[set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
]]></system-err>
  </testcase>
  <testcase name="testProcessQuestion_WithLlmResponseContainingContactSupport_ReturnsEscalation" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.005">
    <system-err><![CDATA[set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
]]></system-err>
  </testcase>
  <testcase name="testProcessQuestion_WithLlmException_ReturnsFallbackWithEscalation" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.003"/>
  <testcase name="testProcessQuestion_ToggleBetweenLlmAndKnowledgeBase" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.005">
    <system-err><![CDATA[set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
]]></system-err>
  </testcase>
  <testcase name="testProcessQuestion_WithAlwaysCallLlmTrue_InvokesLlmService" classname="cloud.contoterzi.helpdesk.core.engine.HelpdeskEngineSystemTest" time="0.004">
    <system-err><![CDATA[set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Initializing Helpdesk Engine
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: About to initialize AppState
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: AppState initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Knowledge base loaded with 2 entries
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Loading LLM client type: claude
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client loaded successfully: cloud.contoterzi.helpdesk.core.spi.LlmClient$MockitoMock$FeNzan4m
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: LLM client initialized successfully
set 16, 2025 3:34:01 PM cloud.contoterzi.helpdesk.core.engine.HelpdeskEngine init
INFO: Similarity Service loaded via SPI successfully
]]></system-err>
  </testcase>
</testsuite>